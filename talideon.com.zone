$ORIGIN	talideon.com.
$TTL	3600

@			SOA	ns4 k.stereochro.me. (
				2016052502 ; serial
				6h         ; refresh
				1h         ; retry
				1w         ; expire
				1d         ; minimum
				)
;			NS	ns1
			NS	ns2
			NS	ns3
			NS	ns4
			A	45.55.149.240
			AAAA	2604:a880:800:10::716:6001
			MX	40 mail.talideon.com.
			; The TXT record is needed for dumber mailservers.
			TXT	"v=spf1 ip4:78.153.202.217 ip6:2a01:a8:201::217 a mx -all"
			SPF	"v=spf1 ip4:78.153.202.217 ip6:2a01:a8:201::217 a mx -all"

www			CNAME	@
repos			CNAME	@
projects		CNAME	@
reader			CNAME	@

mail			A	45.55.149.240
mail			AAAA	2604:a880:800:10::716:6001

; Nameservers
; lir.talideon.com
ns1			A	78.153.202.217
ns1			AAAA	2a01:a8:201::217
; statler.moybella.net
ns2			A	37.187.57.205
ns2			AAAA	2001:41d0:b:5cd::205
; ns2.blacknightsolutions.com
ns3			A	78.153.202.4
ns3			AAAA	2a01:a8:dc2:33::33
; cian.talideon.com
ns4			A	45.55.149.240
ns4			AAAA	2604:a880:800:10::716:6001

; Server itself.
lir			A	78.153.202.217
lir			AAAA	2a01:a8:201::217

lir			TXT	"v=spf1 a mx -all"
lir			SPF	"v=spf1 a mx -all"

lir			SSHFP	1 1 33f52ffa59079b25a3d2e41b05403383016f586a
lir			SSHFP	1 2 1b3291d1d27b4e67e1c56c5943783c56280c590867a79361a4f847c7fc0bf262
lir			SSHFP	2 1 27dfe15fc68ae916d5be965ec6ab556638b3e886
lir			SSHFP	2 2 9212211b7b73756c8a13c10ed09e38f57018ffcdc38cc9aee5f7824238e2b49d
lir			SSHFP	3 1 78fc530683dfb7c622794aff53385d902c3acbd3
lir			SSHFP	3 2 d655e85051012ad4a23fbd1a67032abfaac4748169445a22a70597961225a484

; My home network.
etain			A	213.79.53.114

; Work VM. The name is a bit of a private joke.
foltor			A	46.22.138.20

; My Digital Ocean VM.
cian			A	45.55.149.240
cian			AAAA	2604:a880:800:10::716:6001

cian			TXT	"v=spf1 a mx -all"
cian			SPF	"v=spf1 a mx -all"


cian			SSHFP	1 1 b3c27d0efecee20d4c00e3f5f3cd2a61ca02ad82
cian			SSHFP	1 2 7ad47957fbb90f54a299f29efbde82066f64744cb5c50e106af7da0d082821cf
cian			SSHFP	2 1 9d3b92fd93e5f8803c2a889d73806a84bfc7d670
cian			SSHFP	2 2 f8ef86bb095339039496b875ae2dfc8a27bb6b0f8d32f40990911d3d8e935c1d
cian			SSHFP	3 1 2f1baf6bf8d66c0615a205b7628475a419563f4b
cian			SSHFP	3 2 21ec08609d41e94cad66a2cc06b8b47bb753a2400aeba2221ed9938979f6436b

; Aliases.
bethisad		CNAME	@
mirrors			CNAME	@

; Services
_imap._tcp		SRV	0 1 143  mail.talideon.com.
_imaps._tcp		SRV	0 1 993  mail.talideon.com.
_submission._tcp	SRV	0 1 587  mail.talideon.com.
_sieve._tcp		SRV	0 1 4190 mail.talideon.com.
_xmpp-client._tcp	SRV	0 1 5222 talideon.com.
_xmpp-server._tcp	SRV	0 1 5269 talideon.com.

; DANE
; According to https://tools.ietf.org/html/rfc7672, for SMTP, we can't use
; PKIX-EE (1) and have to use DANE-EE (3) as the whole certificate chain isn't
; validated for opportunistic DANE TLS.
; Also see:
; https://community.letsencrypt.org/t/please-avoid-3-0-1-and-3-0-2-dane-tlsa-records-with-le-certificates/7022
; https://www.internetsociety.org/deploy360/blog/2016/01/lets-encrypt-certificates-for-mail-servers-and-dane-part-1-of-2/
; This contains a good explanation of the flags, for when I inevitably forget:
; https://netfuture.ch/2013/06/how-to-create-dnssec-dane-tlsa-entries/
_25._tcp.mail		CNAME	_dane ; SMTP
_143._tcp.mail		CNAME	_dane ; IMAP + STARTTLS
_443._tcp		CNAME	_dane ; HTTPS (talideon.com)
_443._tcp.www		CNAME	_dane ; HTTPS (www.talideon.com)
_443._tcp.mail		CNAME	_dane ; HTTPS (mail.talideon.com)
_587._tcp.mail		CNAME	_dane ; SMTP Submission
_993._tcp.mail		CNAME	_dane ; IMAPS
_4190._tcp.mail		CNAME	_dane ; Sieve
_5222._tcp		CNAME	_dane ; XMPP Client
_5269._tcp		CNAME	_dane ; XMPP Server

;; subject= /CN=repos.talideon.com
;; issuer= /C=US/O=Let's Encrypt/CN=Let's Encrypt Authority X3
;; notBefore=May 25 17:57:00 2016 GMT
;; notAfter=Aug 23 17:57:00 2016 GMT
_dane			TLSA	3 0 1 29437b9a2ffae2b91529f8055c0fba91196ef62c463d1073689afd4a394ed85c
_dane			TLSA	3 1 1 86432ac4f266b7d59c686b58bbf66ebfad42b984b90d0653b6faabcb98f344b2
_dane			TLSA	3 0 2 72a0a90ec55a9b2924866fb6c08d8fd1d62d2c84cd2bd604cc7d24410c1ce81640ed0fbdd799430ae97550c8905058bac9da75c006420879c4299506337398aa
_dane			TLSA	3 1 2 c303b696e96ce33c3399ea0b8e6f93aaa5a7437d606d42ea06f7e1e8025202e3d52633e6f4e67daf3a477464800dad28b4b6375c5e379444a3e5305c92209fc1
;; subject= /C=US/O=Let's Encrypt/CN=Let's Encrypt Authority X3
;; issuer= /O=Digital Signature Trust Co./CN=DST Root CA X3
;; notBefore=Mar 17 16:40:46 2016 GMT
;; notAfter=Mar 17 16:40:46 2021 GMT
_dane			TLSA	2 0 1 25847d668eb4f04fdd40b12b6b0740c567da7d024308eb6c2c96fe41d9de218d
_dane			TLSA	2 1 1 60b87575447dcba2a36b7d11ac09fb24a9db406fee12d2cc90180517616e8a18
_dane			TLSA	2 0 2 2e1e12dacb350e69317a7f37d769f46f16f437cf8d392319279c93515e5600baed3d3acd5dc83b673e8c60cf7fba0dce00a4d162a3b966a3ebf72487c376fca0
_dane			TLSA	2 1 2 774fad8c9a6afc2bdb44faba8390d213ae592fb0d56c5dfab152284e334d7cd6abd05799236e7aa6266edf81907c60404c57ee54c10a3a82fcc2a9146629b140

; vim:set filetype=dns ts=8 sw=8 sts=8 noet:
